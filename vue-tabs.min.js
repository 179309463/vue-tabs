/**
 * vue-tabs v0.1.0
 * (c) 2016 ALEXQDJAY
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueTaber=e()}(this,function(){"use strict";function t(t){return t?"function"==typeof t:!1}function e(t){return t?"string"==typeof t:!1}function n(t){return t?"[object Object]"===Object.prototype.toString.call(t):!1}function i(t,e){if(void 0===e&&(e=""),n(t)){var i=t.name,s=t.key;return void 0===s&&(s=""),i+"/"+s}return t+"/"+e}function s(t){s.installed||(s.installed=!0,Object.defineProperty(t.prototype,"$taber",{get:function(){return this.$root._taber}}),Object.defineProperty(t.prototype,"$tab",{get:function(){return this.$options.$tab}}),c.methods.getVue=function(){return t},t.component("VueTabs",c),t.mixin({beforeCreate:function(){this.$options.taber?this._taber=this.$options.taber:this.$options.__taber&&(this._taber=this.$options.__taber)}}))}var a="vue-tabs-active-change",o="vue-tabs-close",r={},c={render:function(){var t=this,e=t.$createElement;return e("div",{staticClass:"vue-tabs"},[e("div",{staticClass:"tabs-list-wrapper"},[e("ul",{staticClass:"tabs-list"},[t._l(t.tabs,function(n){return e("li",{"class":{active:t.active===n},on:{click:function(){t.clickTab(n)}}},[t._s(n.meta.title),e("span",{staticClass:"btn-close",on:{click:function(e){e.stopPropagation(),t.close(n)}}},["Ã—"])])})])])," ",e("div",{ref:"contentWrapEl",staticClass:"tabs-content-wrapper"})])},staticRenderFns:[],data:function(){return{tabs:[],active:null}},beforeCreate:function(){this.tabSize=0,this.tabMap={},this.$taber.vm=this},methods:{appendContent:function(t){var e=r[t.name]||(r[t.name]=this.getVue().extend(t.meta.component)),n=document.createElement("div"),i=new e({el:n,__taber:this.$taber,parent:this,$tab:t});t.content=i,i.$el.classList.add("tabs-content"),this.$refs.contentWrapEl.appendChild(i.$el)},clickTab:function(t){this.select(t)},close:function(e){function n(t){if(null==t)r[++c].call(l,e,n);else if(t===!1)return}function s(){e.content.$destroy(),e.content.$el.remove(),this.tabMap[i(e)]=null;var t=this.tabs.indexOf(e);-1!==t&&(this.tabs.splice(t,1),this.tabs.length>0&&this.active===e?this.select(t<this.tabs.length?this.tabs[t]:this.tabs[this.tabs.length-1]):0===this.tabs.length&&this.$emit(a,null,e),this.$emit(o,e))}if(e){var r=[].concat(this.$taber.beforeCloseHocks);e.meta.beforeClose&&t(e.meta.beforeClose)&&r.push(e.meta.beforeClose),r.push(s);var c=0,l=this;r[0].call(l,e,n)}},create:function(s){var a=this,o=[].concat(this.$taber.beforeCreateHocks);s.meta.beforeCreate&&t(s.meta.beforeCreate)&&o.push(s.meta.beforeCreate);var r=0,c=this,l=function(t){if(null==t)o[++r].call(c,s,l);else{if(t===!1)return;e(t)&&t===s.name?o[++r].call(c,s,l):n(t)&&t.name===s.name?o[++r].call(c,s,l):c.$taber.open(t)}};o.push(function(){a.tabs.push(s),a.appendContent(s),a.select(s);var t=i(s.name,s.key);a.tabMap[t]=s,l=null,o=null}),o[0].call(this,s,l)},findOpenTab:function(t,e){var n=i(t,e);return this.tabMap[n]},select:function(t){t&&t!==this.active&&(this.$emit(a,t,this.active),this.active=t)}},watch:{active:function(t,e){t&&t!==e&&this.tabs.forEach(function(e){e.name===t.name?e.content.$el.classList.add("active"):e.content.$el.classList.remove("active")})}}},l=["vue-tabs-close","vue-tabs-active-change"],f=function(t){var e=this,n=t.tabs;this._tabsMap={},n.forEach(function(t){e._tabsMap[t.name]=t}),this.beforeCreateHocks=[],this.beforeCloseHocks=[],this._events={}},u={vm:{}};return f.prototype.findTab=function(t){if(!t)return null;var n;return n=e(t)?t:t.name,this._tabsMap[n]},f.prototype.open=function(t){e(t)&&(t={name:t});var n=this.findTab(t);if(!n)return void console.error("The Tab ["+t.name+"] is not defined!");t.meta=n;var i=this.vm.findOpenTab(t.name,t.key);i?this.vm.select(i):this.vm.create(t)},f.prototype.close=function(t){e(t)&&(t={name:t});var n=this.findTab(t);if(!n)return void console.error("The Tab ["+t.name+"] is not defined!");t.meta=n;var i=this.vm.findOpenTab(t.name,t.key);this.vm.close(i)},f.prototype.select=function(t){e(t)&&(t={name:t});var n=this.vm.findOpenTab(t.name,t.key);this.vm.select(n)},f.prototype.$on=function(e,n){return e&&t(n)?(this._events[e]||(this._events[e]=[]),void this._events[e].push(n)):void console.log("$on error event:["+e+"], call:"+n)},f.prototype.$off=function(t,e){if(t){var n=this._events[t]||[];if(e){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}else this._events[t]=[]}},f.prototype.beforeCreateEach=function(e){t(e)&&this.beforeCreateHocks.push(e)},f.prototype.beforeCloseEach=function(e){t(e)&&this.beforeCloseHocks.push(e)},u.vm.set=function(t){var e=this;this._vm=t;var n=this;l.forEach(function(i){t.$on(i,function(){for(var t=[],s=arguments.length;s--;)t[s]=arguments[s];var a=e._events[i]||[];a.forEach(function(e){e.apply(n,t)})})})},u.vm.get=function(){return this._vm},Object.defineProperties(f.prototype,u),f.install=s,window.Vue&&window.Vue.use(f),f});